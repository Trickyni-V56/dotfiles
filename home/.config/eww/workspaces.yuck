;;    Workspaces
(defpoll wsf :interval "100ms" "scripts/workspace-focus.sh")
(defpoll wse :interval "100ms" :initial "" "scripts/workspace-exist.sh")


(defwidget workspaces []
  (box
    :space-evenly false
    :orientation "h"
    (revealer :transition "slideright" :reveal {wse =~ "1"} :duration "100ms"
      (eventbox :onclick "sway workspace 1"
        (label :text "1" :class {wsf == 1 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideleft" :reveal {wse =~ "2"} :duration "100ms"
     (eventbox :onclick "sway workspace 2"
      (label :text "2" :class {wsf == 2 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "3"} :duration "100ms"
     (eventbox :onclick "sway workspace 3"
      (label :text "3" :class {wsf == 3 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "4"} :duration "100ms"
     (eventbox :onclick "sway workspace 4"
      (label :text "4" :class  {wsf == 4 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "5"} :duration "100ms"
     (eventbox :onclick "sway workspace 5"
      (label :text "5" :class  {wsf == 5 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "6"} :duration "100ms"
     (eventbox :onclick "sway workspace 6"
      (label :text "6" :class  {wsf == 6 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "7"} :duration "100ms"
     (eventbox :onclick "sway workspace 7"
      (label :text "7" :class  {wsf == 7 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "8"} :duration "100ms"
     (eventbox :onclick "sway workspace 8"
      (label :text "8" :class  {wsf == 8 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "9"} :duration "100ms"
     (eventbox :onclick "sway workspace 9"
      (label :text "9" :class {wsf == 9 ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "0"} :duration "100ms"
     (eventbox :onclick "sway workspace 0"
      (label :text "0" :class {wsf == "0" ? "focused ws-text" : "ws-text"})))

    (revealer :transition "slideright" :reveal {wse =~ "11"} :duration "100ms"
     (eventbox :onclick "sway workspace 11"
      (label :text " " :class {wsf == "11" ? "focused ws-icon" : "ws-icon"})))

    (revealer :transition "slideright" :reveal {wse =~ "12"} :duration "100ms"
    (eventbox :onclick "sway workspace 12"
      (label :text " " :class {wsf == "12" ? "focused ws-icon" : "ws-icon"})))

  )
)


;;"","󰺕","","󱥔","","󰀘","","🜨","🜔","🜕","🜖","🜗","𖢨","𖣐","𖣠","𖢵","𖢨","𖤪","𖤞","𖣨","𖣵","𖤊","𖤪","𖥚","𖥞","𖥕","𐀤","𐃏"
;;𖤗 𖦙 𖦚𖦹𖥥𖢨

;;:style "font-family: Symbols Nerd Font Mono; font-size: 12;")

;; TODO positional arguments
;; TODO one variable/optimize/only on update
;; TODO urgent marker
;; TODO :hover  css class
;; TODO :active css class???
