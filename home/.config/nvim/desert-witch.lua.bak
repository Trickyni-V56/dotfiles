-- https://github.com/nvim-treesitter/nvim-treesitter/blob/master/CONTRIBUTING.md
-- https://neovim.io/doc/user/syntax.html#_8.-syntax-patterns
-- https://neovim.io/doc/user/syntax.html#_13.-highlight-command
local M = {}
--stylua: ignore start
   local bg      = "#3b3228" --background
   local bg95    = "#43392d" --barely use! near-invisible subtle highlighting
   local bg75    = "#4c4134" --comments
   local bg25    = "#6b6055"
   local altbg   = "#5d4f40"
   local sand    = "#c1a387"
   local fg      = "#afd2e9"
   local cyan    = "#3eccbe"
   local scarlet = "#e86045" --variables
   local orange  = "#e68d53" --integers
   local saffron = "#f8e2a0" --selection
   local moss    = "#92a650"
   local celadon = "#ace1af"
   local grey    = "#868686"
   local nazar   = "#2c2c44"
--stylua: ignore end
function M.setup()
  vim.cmd("highlight clear")
  vim.o.background = "dark"
  -- vim.g.colors_name = "desert_witch"
  local hl_groups = {
    Normal = { fg = fg, bg = bg },
    BaseText = { fg = fg },
    Value = { fg = sand },
    Visual = { fg = bg, bg = saffron },
    NormalNC = { bg = bg75 },
    MiniHiPatternsBase00 = { bg = "#3b3228" },
    MiniHiPatternsBase01 = { bg = "#4c4134" },
    MiniHiPatternsBase02 = { bg = "#5d4f40" },
    MiniHiPatternsBase03 = { bg = "#6b6055" },
    MiniHiPatternsBase04 = { bg = "#c1a387" },
    MiniHiPatternsBase05 = { bg = "#afd2e9" },
    MiniHiPatternsBase06 = { bg = "#FF00FF" },
    MiniHiPatternsBase07 = { bg = "#00FF00" },
    MiniHiPatternsBase08 = { bg = "#e86045" },
    MiniHiPatternsBase09 = { bg = "#e68d53" },
    MiniHiPatternsBase0A = { bg = "#f8e2a0" },
    MiniHiPatternsBase0B = { bg = "#92a650" },
    MiniHiPatternsBase0C = { bg = "#ace1af" },
    MiniHiPatternsBase0D = { bg = "#3eccbe" },
    MiniHiPatternsBase0E = { bg = "#FF0000" },
    MiniHiPatternsBase0F = { bg = "#f8e2a0" },
    ComplMatchIns = {},
    Conceal = { bg = bg },
    CurSearch = { fg = bg, bg = orange },
    Cursor = { link = "Normal" },
    CursorColumn = { link = "CursorLine" },
    --  CursorIM       = {},
    CursorLine = { bg = bg75 },
    CursorLineNr = { fg = sand, bg = bg75 },
    CursorLineFold = {},
    CursorLineSign = { fg = nil, bg = bg75 },
    DiffAdd = { bg = moss, fg = bg },
    DiffChange = { bg = orange, fg = bg },
    DiffDelete = { bg = scarlet, fg = bg },
    DiffText = { fg = cyan },
    Directory = { fg = orange, underline = true },
    EndOfBuffer = { fg = sand, bg = bg },
    ErrorMsg = { fg = scarlet },
    WarnMsg = { fg = orange },
    OkMsg = { fg = moss },
    StderrMsg = { fg = scarlet },
    StdoutMsg = { fg = fg },
    FloatBorder = { fg = sand, bg = bg },
    --  FoldColumn     = {},
    --  Folded         = {},
    IncSearch = { link = "Visual" },
    --  lCursor        = {},
    LineNr = { bg = bg, fg = altbg },
    LineNrAbove = { bg = bg, fg = altbg },
    LineNrBelow = { bg = bg, fg = altbg },
    MatchParen = { bg = bg25, fg = celadon },
    ModeMsg = { fg = saffron },
    MoreMsg = { fg = orange },
    MsgArea = { link = "Normal" },
    MsgSeparator = { fg = fg, bg = altbg },
    NonText = { fg = altbg },
    NormalFloat = { link = "Normal" },
    NormalNC = { fg = sand, bg = bg },
    --Popup-Menu----------------------------------------
    Pmenu = { link = "Normal" },
    -- PmenuExtra = {},
    -- PmenuExtraSel = {},
    PmenuKind = { fg = orange },
    PmenuKindSel = { link = "PmenuSel" },
    -- PmenuMatch = {},
    -- PmenuMatchSel = {},
    -- PmenuSbar = {},
    PmenuSel = { link = "Visual" },
    PmenuThumb = { bg = orange },
    -- ------------------------------------------
    Question = { fg = orange },
    QuickFixLine = { link = "MsgSeparator" },
    Search = { link = "Visual" },
    SignColumn = { bg = bg },
    SpecialKey = { fg = sand },
    SpellBad = { undercurl = true, sp = scarlet },
    SpellCap = { undercurl = true, sp = cyan },
    StatusLine = { bg = altbg, fg = fg },
    StatusLineNC = { bg = altbg, fg = sand },
    Substitute = { link = "Visual" },
    --  TabLine        = {},
    --  TabLineFill    = {},
    --  TabLineSel     = {},
    --  TermCursor     = {},
    --  TermCursorNC   = {},
    Title = { fg = orange },
    --  VertSplit      = {},
    VisualNOS = { bg = scarlet, fg = bg },
    --  WarningMsg     = {},
    --  Whitespace     = {},
    --  WildMenu       = {},
    --  WinBar         = {},
    --  WinBarNC       = {},
    --  WinSeparator   = {},

    --Syntax -----------------------------------
    Comment = { fg = bg25 },
    Constant = { link = "BaseText" },
    String = { fg = sand },
    Character = { link = "BaseText" },
    Number = { fg = moss },
    Boolean = { link = "Number" },
    Float = { link = "Number" },
    Identifier = { link = "BaseText" },
    Function = { link = "BaseText" },
    Statement = { link = "BaseText" },
    Conditional = { link = "BaseText" },
    Repeat = { link = "BaseText" },
    Label = { link = "BaseText" },
    Operator = { link = "BaseText" },
    Keyword = { fg = scarlet },
    Exception = { link = "BaseText" },
    PreProc = { link = "BaseText" },
    Include = { link = "BaseText" },
    Define = { link = "BaseText" },
    Macro = { link = "BaseText" },
    PreCondit = { link = "BaseText" },
    Type = { link = "BaseText" },
    StorageClass = { link = "BaseText" },
    Structure = { link = "BaseText" },
    Typedef = { link = "BaseText" },
    Special = { link = "BaseText" },
    SpecialChar = { link = "BaseText" },
    Tag = { fg = orange },
    Delimiter = { link = "BaseText" },
    -- SpecialComment = {},
    -- Debug          = {},
    -- Ignore         = {},
    -- Error          = {},
    Todo = { fg = bg, bg = celadon },
    Added = { fg = moss },
    Changed = { fg = orange },
    Removed = { fg = scarlet },
    --treesitter--------------------------------------
    ["@variable"] = { fg = fg },
    -- ["@variable.builtin"] = {fg=orange},
    -- ["@variable.parameter"] = {fg=orange},
    -- ["@variable.parameter.builtin"] = {fg=orange},
    ["@variable.member"] = { fg = fg },
    ["@constant"] = { fg = orange },
    -- ["@constant.builtin"] = {},
    -- ["@constant.macro"] = {},
    -- ["@module"] = {},
    -- ["@module.builtin"] = {},
    -- ["@label"] = {},
    ["@string"] = { link = "Value" },
    -- ["@string.documentation"] = {link="Value"},
    ["@string.regexp"] = { fg = cyan },
    -- ["@string.escape"] = {link="Value"},
    -- ["@string.special"] = {link="Value"},
    -- ["@string.special.symbol"] = {link="Value"},
    -- ["@string.special.url"] = {link="Value"},
    -- ["@string.special.path"] = {link="Value"},
    -- ["@character"] = {link="Value"},
    ["@character.special"] = { fg = saffron },
    ["@boolean"] = { link = "Number" },
    ["@number"] = { link = "Number" },
    ["@number.float"] = { link = "Number" },
    ["@type"] = { fg = orange },
    -- ["@type.builtin"] = {},
    -- ["@type.definition"] = {},
    -- ["@attribute"] = {},
    -- ["@attribute.builtin"] = {},
    ["@property"] = { fg = fg },
    --
    ["@function"] = { fg = fg },
    -- ["@function.builtin"] = {},
    -- ["@function.call"] = { fg= orange},
    -- ["@function.macro"] = {},
    ["@function.method"] = { fg = saffron },
    ["@function.method.call"] = { fg = saffron },
    ["@constructor"] = { link = "BaseText" },
    ["@operator"] = { link = "Operator" },
    ["@operator.regex"] = { fg = cyan },
    ["@keyword"] = { link = "Keyword" },
    -- ["@keyword.repeat"] = { fg = orange },
    -- ["@keyword.conditional"] = { fg = orange },
    -- ["@keyword.conditional.ternary"] = { fg = orange },
    -- ["@keyword.coroutine"] = {},
    -- ["@keyword.function"] = { fg = scarlet },
    -- ["@keyword.operator"] = {},
    -- ["@keyword.import"] = {},
    -- ["@keyword.type"] = {},
    -- ["@keyword.modifier"] = {},
    -- ["@keyword.return"] = { fg = scarlet },
    -- ["@keyword.debug"] = {},
    -- ["@keyword.exception"] = { fg = scarlet },
    -- ["@keyword.directive"] = {},
    -- ["@keyword.directive.define"] = {},
    ["@punctuation.delimiter"] = { fg = fg },
    ["@punctuation.bracket"] = {},
    ["@punctuation.special"] = {},
    ["@comment"] = { link = "Comment" },
    ["@comment.documentation"] = {},
    ["@comment.error"] = { bg = scarlet, fg = bg }, -- error-type comments (e.g.moss`ERROR`, `FIXME`, `DEPRECATED`)
    ["@comment.warning"] = { bg = orange, fg = bg }, -- warning-type comments (e.g.moss`WARNING`, `FIX`, `HACK`)
    ["@comment.todo"] = { bg = celadon, fg = bg }, -- todo-type comments (e.g.moss`TODO`, `WIP`)
    ["@comment.note"] = { bg = scarlet, fg = bg }, -- note-type comments (e.g.moss`NOTE`, `INFO`, `XXX`)
    ["@markup.strong"] = { bold = true, bg = bg95, reverse = true },
    ["@markup.italic"] = { italic = true, underdouble = true, sp = altbg },
    ["@markup.strikethrough"] = { strikethrough = true },
    ["@markup.underline"] = { underline = true },
    -- ["@markup.heading"] = {},
    ["@markup.heading.1"] = { link = "markdownH1" },
    ["@markup.heading.2"] = { link = "markdownH2" },
    ["@markup.heading.3"] = { link = "markdownH3" },
    ["@markup.heading.4"] = { link = "markdownH4" },
    ["@markup.heading.5"] = { link = "markdownH5" },
    ["@markup.heading.6"] = { link = "markdownH6" },
    --["@markup.quote"]={},
    --["@markup.math"]={},
    ["@markup.link"] = { link = "markdownLink" },
    ["@markup.link.label"] = { link = "markdownLinkText" },
    ["@markup.link.url"] = { link = "markdownUrl" },
    ["@markup.raw"] = { bg = bg75 },
    ["@markup.raw.block"] = { bg = bg75 },
    ["@markup.list"] = { fg = moss },
    ["@markup.list.checked"] = { fg = grey },
    ["@markup.list.unchecked"] = { fg = moss },
    ["@diff.plus"] = { link = "Added" },
    ["@diff.minus"] = { link = "Removed" },
    ["@diff.delta"] = { link = "Changed" },
    ["@tag"] = { link = "Tag" },
    --["@tag.builtin"]={},
    ["@tag.attribute"] = { fg = saffron },
    --["@tag.delimiter"]={},

    --Diagnostics----------------------------------------
    DiagnosticError = { fg = scarlet },
    DiagnosticWarn = { fg = orange },
    DiagnosticInfo = { fg = celadon },
    DiagnosticHint = { fg = cyan },
    DiagnosticOk = { fg = moss },

    -- DiagnosticFloatingError = {},
    -- DiagnosticFloatingHint = {},
    -- DiagnosticFloatingInfo = {},
    -- DiagnosticFloatingOk = {},
    -- DiagnosticFloatingWarn = {},

    DiagnosticSignError = { bg = nil, fg = scarlet },
    DiagnosticSignWarn = { bg = nil, fg = orange },
    DiagnosticSignInfo = { bg = nil, fg = celadon },
    DiagnosticSignHint = { bg = nil, fg = cyan },
    DiagnosticSignOk = { bg = nil, fg = moss },

    DiagnosticUnderlineError = { bg = nil, fg = nil, underdotted = true, sp = scarlet },
    DiagnosticUnderlineWarn = { bg = nil, fg = nil, underdouble = true, sp = orange },
    DiagnosticUnderlineInfo = { bg = nil, fg = nil, underline = true, sp = celadon },
    DiagnosticUnderlineHint = { bg = nil, fg = nil, underdashed = true, sp = cyan },
    DiagnosticUnderlineOk = { bg = nil, fg = nil, underline = true, sp = moss },

    --LSP------------------------------------------------
    --  LspReferenceText              = {},
    --  LspReferenceRead              = {},
    --  LspReferenceWrite             = {},
    --
    --  LspSignatureActiveParameter   = {},
    --
    --  LspCodeLens                   = {},
    --  LspCodeLensSeparator          = {},
    --
    -- -- Built-in snippets
    --  SnippetTabstop                = {},
    --  SnippetTabstopActive          = {},

    -- Built-in markdown syntax
    markdownH1 = { bg = orange, fg = bg },
    markdownH2 = { bg = sand, fg = bg },
    markdownH3 = { bg = fg, fg = bg },
    markdownH4 = { fg = orange, bg = bg75 },
    markdownH5 = { fg = sand, bg = bg75 },
    markdownH6 = { fg = fg, bg = bg75 },
    -- markdownH1 = { bg = orange, fg = bg },
    -- markdownH2 = { bg = sand, fg = bg },
    -- markdownH3 = { bg = moss, fg = bg },
    -- markdownH4 = { bg = celadon, fg = bg },
    -- markdownH5 = { bg = fg, fg = bg },
    -- markdownH6 = { bg = altbg, fg = sand },
    markdownBold = { reverse = true, bold = true },
    markdownItalic = { underdouble = true, sp = altbg, italic = true },
    markdownUrl = { fg = cyan },
    markdownLink = { fg = orange, underline = true, sp = orange },
    markdownLinkText = { fg = orange, underline = true, sp = orange },
    markdownLinkDelimiter = { fg = orange },
    --blink.cmp
    BlinkCmpMenuBorder = { link = "FloatBorder" },
    BlinkCmpDocBorder = { fg = orange },
    -- MiniHipatterns
    MiniHipatternsFixme = { bg = scarlet, fg = bg },
    MiniHipatternsHack = { bg = orange, fg = bg },
    MiniHipatternsNote = { bg = cyan, fg = bg },
    MiniHipatternsTodo = { link = "Todo" },
    -- MiniSurround
    MiniSurround = { link = "Visual" },
    -- MiniTabline
    MiniTablineCurrent = { fg = bg, bg = orange },
    MiniTablineVisible = { fg = bg, bg = sand },
    MiniTablineHidden = { fg = sand, bg = altbg },
    MiniTablineModifiedCurrent = { link = "MiniTablineCurrent" },
    MiniTablineModifiedVisible = { link = "MiniTablineVisible" },
    MiniTablineModifiedHidden = { link = "MiniTablineHidden" },
    MiniTablineFill = { bg = altbg },
    MiniTablineTabpagesection = {},
    MiniTablineTrunc = { fg = sand, bg = altbg },
    --
    --  MiniDiffSignAdd               = {},
    --  MiniDiffSignChange            = {},
    --  MiniDiffSignDelete            = {},
    --  MiniDiffOverAdd               = {},
    --  MiniDiffOverChange            = {},
    --  MiniDiffOverChangeBuf         = {},
    --  MiniDiffOverContext           = {},
    --  MiniDiffOverContextBuf        = {},
    --  MiniDiffOverDelete            = {},

    -- folke/trouble.nvim
    --  TroubleCount                  = {},
    --  TroubleFoldIcon               = {},
    --  TroubleIndent                 = {},
    --  TroubleLocation               = {},
    --  TroubleSignError              = {},
    --  TroubleSignHint               = {},
    --  TroubleSignInformation        = {},
    --  TroubleSignOther              = {},
    --  TroubleSignWarning            = {},
    --  TroubleText                   = {},
    --  TroubleTextError              = {},
    --  TroubleTextHint               = {},
    --  TroubleTextInformation        = {},
    --  TroubleTextWarning            = {},

    -- folke/which-key.nvim
    WhichKey = { fg = orange },
    WhichKeyNormal = { fg = fg, bg = bg },
    WhichKeyBorder = { link = "FloatBorder" },
    WhichKeyDesc = { fg = fg },
    WhichKeyTitle = { bg = bg, fg = orange },
    WhichKeySeparator = { fg = sand, bg = bg },
    WhichKeyGroup = { bg = bg, fg = celadon },

    -- HiPhish/rainbow-delimiters.nvim
    RainbowDelimiterRed = { fg = scarlet },
    RainbowDelimiterYellow = { fg = cyan },
    RainbowDelimiterBlue = { fg = saffron },
    RainbowDelimiterOrange = { fg = sand },
    -- RainbowDelimiterGreen = {},
    -- RainbowDelimiterViolet = {},
    -- RainbowDelimiterCyan = {},

    -- RenderMarkdown
    RenderMarkdownBullet = { fg = moss },
    RenderMarkdownCheckedItem = { fg = grey, strikethrough = true },
    RenderMarkdownChecked = { fg = grey },
    RenderMarkdownUnchecked = { fg = moss },
    RenderMarkdownH1 = { link = "markdownH1" },
    RenderMarkdownH2 = { link = "markdownH2" },
    RenderMarkdownH3 = { link = "markdownH3" },
    RenderMarkdownH4 = { link = "markdownH4" },
    RenderMarkdownH5 = { link = "markdownH5" },
    RenderMarkdownH6 = { link = "markdownH6" },
    RenderMarkdownH1Bg = { link = "markdownH1" },
    RenderMarkdownH2Bg = { link = "markdownH2" },
    RenderMarkdownH3Bg = { link = "markdownH3" },
    RenderMarkdownH4Bg = { link = "markdownH4" },
    RenderMarkdownH5Bg = { link = "markdownH5" },
    RenderMarkdownH6Bg = { link = "markdownH6" },
    RenderMarkdownCode = { bg = bg75 },
    --  RenderMarkdownCodeInfo={},
    RenderMarkdownCodeBorder = { bg = altbg },
    --RenderMarkdownCodeFallback={},
    RenderMarkdownCodeInline = { bg = bg75 },
    RenderMarkdownQuote = { fg = celadon },
    --RenderMarkdownQuote1={},
    --RenderMarkdownQuote2={},
    --RenderMarkdownQuote3={},
    --RenderMarkdownQuote4={},
    --RenderMarkdownQuote5={},
    --RenderMarkdownQuote6={},
    RenderMarkdownInlineHighlight = { bg = fg, fg = bg },
    RenderMarkdownDash = { fg = bg25 },
    RenderMarkdownSign = { bg = bg },
    --RenderMarkdownMath={},
    --RenderMarkdownIndent={},
    --RenderMarkdownHtmlComment={},
    RenderMarkdownLink = { fg = orange, underline = true, sp = orane },
    RenderMarkdownTodo = { link = "Todo" },
    RenderMarkdownTableHead = { fg = sand },
    RenderMarkdownTableRow = { fg = sand },
    -- RenderMarkdownTableFill = {},
    RenderMarkdownSuccess = { link = "DiagnosticOk" },
    RenderMarkdownInfo = { link = "DiagnosticInfo" },
    RenderMarkdownHint = { link = "DiagnosticHint" },
    RenderMarkdownWarn = { link = "DiagnosticWarn" },
    RenderMarkdownError = { link = "DiagnosticError" },

    --OXY2DEV/helpview.nvim
    --  HelpviewHeading1               = {},
    --  HelpviewHeading2               = {},
    --  HelpviewHeading3               = {},
    --  HelpviewHeading4               = {},
    --  HelpviewMentionlink            = {},
    --  HelpviewOptionlink             = {},
    --  HelpviewTaglink                = {},
    --  HelpviewTitle                  = {},

    -- MasonMutedBlockBold             = {},
    --stylua: ignore end
  }
  for name, hl in pairs(hl_groups) do
    vim.api.nvim_set_hl(0, name, hl)
  end
end
return M
