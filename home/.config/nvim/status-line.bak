-- Status Line --------------------------------------------------------
-- TODO:
vim.api.nvim_set_hl(0, "StatusLineNormal", { bg = "#afd2e9", fg = "#3b3228" })
vim.api.nvim_set_hl(0, "StatusLineInsert", { bg = "#f8e2a0", fg = "#3b3228" })
vim.api.nvim_set_hl(0, "StatusLineVisual", { bg = "#e68d53", fg = "#3b3228" })
vim.api.nvim_set_hl(0, "SiatusLineReplace", { bg = "#e86045", fg = "#3b3228" }) --FIX: not displaying
vim.api.nvim_set_hl(0, "StatusLineCommand", { bg = "#92a650", fg = "#3b3228" })
vim.api.nvim_set_hl(0, "StatusLine", { fg = "#3b3228", bg = "#c1a387" })
vim.api.nvim_set_hl(0, "StatusLinebg", { bg = "#3b3228" })
-- Function to get mode highlight
function _G.mode_highlight()
  local mode = vim.api.nvim_get_mode().mode
  local mode_hl = {
    ["n"] = "%#StatusLineNormal#",
    ["i"] = "%#StatusLineInsert#",
    ["v"] = "%#StatusLineVisual#",
    ["V"] = "%#StatusLineVisual#",
    ["r"] = "%#StatusLineReplace#",
    ["c"] = "%#StatusLineCommand#",
  }
  return mode_hl[mode] or "%#StatusLine#"
end

function _G.mode_name()
  local mode = vim.api.nvim_get_mode().mode
  local mode_map = {
    ["n"] = "NORMAL",
    ["i"] = "INSERT",
    ["v"] = "VISUAL",
    ["V"] = "V-LINE",
    [""] = "V-BLOCK",
    ["R"] = "REPLACE",
    ["c"] = "COMMAND",
  }
  return " " .. (mode_map[mode] or mode) .. " "
end

vim.opt.statusline = table.concat({
  "%#StatusLineBg#",
  "  ",
  "%{%v:lua.mode_highlight()%}",
  "%{%v:lua.mode_name()%}",
  "%#StatusLine#",
  " %F",
  "%{&modified ? ' [+] ' : ' '}", -- Custom text
  "| [%l:%c] ",
  "%#StatusLineBg#",
  "%=",
})

vim.filetype.add({
  extension = {
    njk = "htmldjango",
  },
})
